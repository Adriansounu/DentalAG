<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>Bolsa de Trabajo - Clínica Dental AG-Ramos Arizpe</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="empleos dentales, trabajo odontología, Ramos Arizpe, Coahuila" name="keywords">
    <meta content="Únete a nuestro equipo en Clínica Dental AG-Ramos Arizpe. Ofertas de trabajo en odontología y administración." name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
    <link href="lib/twentytwenty/twentytwenty.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary m-1" role="status">
            <span class="sr-only">Cargando...</span>
        </div>
        <div class="spinner-grow text-dark m-1" role="status">
            <span class="sr-only">Cargando...</span>
        </div>
        <div class="spinner-grow text-secondary m-1" role="status">
            <span class="sr-only">Cargando...</span>
        </div>
    </div>
    <!-- Spinner End -->

    <!-- Topbar Start -->
    <div class="container-fluid bg-light ps-5 pe-0 d-none d-lg-block">
        <div class="row gx-0">
            <div class="col-md-6 text-center text-lg-start mb-2 mb-lg-0">
                <div class="d-inline-flex align-items-center">
                    <small class="py-2"><i class="far fa-clock text-primary me-2"></i>Horarios: Lun - Sáb : 9:00 am - 7:00 pm, Domingo Cerrado</small>
                </div>
            </div>
            <div class="col-md-6 text-center text-lg-end">
                <div class="position-relative d-inline-flex align-items-center bg-primary text-white top-shape px-5">
                    <div class="me-3 pe-3 border-end py-2">
                        <p class="m-0"><i class="fa fa-envelope-open me-2"></i>info@dentalag.com</p>
                    </div>
                    <div class="py-2">
                        <p class="m-0"><i class="fa fa-phone-alt me-2"></i>+52 844 130 7881</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light shadow-sm px-5 py-3 py-lg-0">
        <a href="index.html" class="navbar-brand p-0">
            <h1 class="m-0 text-primary"><i class="fa fa-tooth me-2"></i>Clínica Dental AG</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0">
                <a href="index.html" class="nav-item nav-link">Inicio</a>
                <a href="about.html" class="nav-item nav-link">Nosotros</a>
                <a href="service.html" class="nav-item nav-link">Servicios</a>
                <a href="jobs.html" class="nav-item nav-link active">Bolsa de Trabajo</a>
            </div>
            <button type="button" class="btn text-dark" data-bs-toggle="modal" data-bs-target="#searchModal"><i class="fa fa-search"></i></button>
            <a href="appointment.html" class="btn btn-primary py-2 px-4 ms-3">Agendar Cita</a>
        </div>
    </nav>
    <!-- Navbar End -->

    <!-- Full Screen Search Start -->
    <div class="modal fade" id="searchModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content" style="background: rgba(9, 30, 62, .7);">
                <div class="modal-header border-0">
                    <button type="button" class="btn bg-white btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body d-flex align-items-center justify-content-center">
                    <div class="input-group" style="max-width: 600px;">
                        <input type="text" class="form-control bg-transparent border-primary p-3" placeholder="Buscar empleos...">
                        <button class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Full Screen Search End -->

    <!-- Hero Start -->
    <div class="container-fluid bg-primary py-5 hero-header mb-5">
        <div class="row py-3">
            <div class="col-12 text-center">
                <h1 class="display-3 text-white animated zoomIn">Bolsa de Trabajo</h1>
                <a href="index.html" class="h4 text-white">Inicio</a>
                <i class="far fa-circle text-white px-2"></i>
                <a href="" class="h4 text-white">Empleos</a>
            </div>
        </div>
    </div>
    <!-- Hero End -->

    <!-- Jobs Section Start -->
    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container">
            <div class="section-title mb-5 text-center">
                <h5 class="position-relative d-inline-block text-primary text-uppercase">Únete a Nuestro Equipo</h5>
                <h1 class="display-5 mb-0">Oportunidades de Carrera en Clínica Dental AG</h1>
                <p class="mt-3">Estamos buscando profesionales talentosos y comprometidos para formar parte de nuestro equipo. ¡Encuentra tu próxima oportunidad profesional!</p>
            </div>

            <!-- Jobs Filter -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="d-flex justify-content-center">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-outline-primary active" data-filter="all">Todos</button>
                            <button type="button" class="btn btn-outline-primary" data-filter="clinico">Área Clínica</button>
                            <button type="button" class="btn btn-outline-primary" data-filter="administrativo">Administrativo</button>
                            <button type="button" class="btn btn-outline-primary" data-filter="apoyo">Apoyo</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Jobs Container -->
            <div id="jobs-container" class="row g-4">
                <!-- Los empleos se cargarán dinámicamente aquí -->
            </div>

            <!-- No Jobs Message -->
            <div id="no-jobs" class="text-center py-5" style="display: none;">
                <i class="fas fa-briefcase text-primary" style="font-size: 4rem;"></i>
                <h3 class="mt-3">No hay empleos disponibles</h3>
                <p class="text-muted">Actualmente no tenemos vacantes disponibles, pero siempre estamos buscando talento excepcional.</p>
                <a href="mailto:rh@dentalag.com" class="btn btn-primary">Envía tu CV</a>
            </div>
        </div>
    </div>
    <!-- Jobs Section End -->

    <!-- Application Modal -->
    <div class="modal fade" id="applicationModal" tabindex="-1" aria-labelledby="applicationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="applicationModalLabel">Postularse para el puesto</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <form id="applicationForm">
                        <input type="hidden" id="jobId" name="jobId">
                        <input type="hidden" id="jobTitle" name="jobTitle">
                        
                        <div class="row g-3">
                            <div class="col-12">
                                <h6 class="text-primary">Información Personal</h6>
                            </div>
                            <div class="col-md-6">
                                <label for="applicantName" class="form-label">Nombre completo *</label>
                                <input type="text" class="form-control" id="applicantName" name="applicantName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="applicantEmail" class="form-label">Correo electrónico *</label>
                                <input type="email" class="form-control" id="applicantEmail" name="applicantEmail" required>
                            </div>
                            <div class="col-md-6">
                                <label for="applicantPhone" class="form-label">Teléfono *</label>
                                <input type="tel" class="form-control" id="applicantPhone" name="applicantPhone" required>
                            </div>
                            <div class="col-md-6">
                                <label for="applicantAge" class="form-label">Edad</label>
                                <input type="number" class="form-control" id="applicantAge" name="applicantAge" min="18" max="65">
                            </div>
                            <div class="col-12">
                                <label for="applicantEducation" class="form-label">Nivel de estudios *</label>
                                <select class="form-select" id="applicantEducation" name="applicantEducation" required>
                                    <option value="">Selecciona tu nivel de estudios</option>
                                    <option value="secundaria">Secundaria</option>
                                    <option value="preparatoria">Preparatoria/Bachillerato</option>
                                    <option value="tecnico">Técnico/Comercial</option>
                                    <option value="licenciatura">Licenciatura</option>
                                    <option value="especialidad">Especialidad</option>
                                    <option value="maestria">Maestría</option>
                                    <option value="doctorado">Doctorado</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="applicantExperience" class="form-label">Experiencia laboral</label>
                                <textarea class="form-control" id="applicantExperience" name="applicantExperience" rows="3" placeholder="Describe tu experiencia laboral relevante..."></textarea>
                            </div>
                            <div class="col-12">
                                <label for="applicantMotivation" class="form-label">¿Por qué te interesa trabajar con nosotros? *</label>
                                <textarea class="form-control" id="applicantMotivation" name="applicantMotivation" rows="3" required placeholder="Cuéntanos qué te motiva a formar parte de nuestro equipo..."></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="dataConsent" name="dataConsent" required>
                                    <label class="form-check-label" for="dataConsent">
                                        Acepto el tratamiento de mis datos personales de acuerdo con la política de privacidad *
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="submitApplication">Enviar Postulación</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Benefits Section -->
    <div class="container-fluid bg-light py-5 wow fadeInUp" data-wow-delay="0.3s">
        <div class="container">
            <div class="section-title mb-5 text-center">
                <h5 class="position-relative d-inline-block text-primary text-uppercase">Beneficios</h5>
                <h1 class="display-6 mb-0">¿Por qué trabajar con nosotros?</h1>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                    <div class="bg-white text-center rounded p-4">
                        <div class="mb-3">
                            <i class="fas fa-users text-primary" style="font-size: 2.5rem;"></i>
                        </div>
                        <h5 class="mb-3">Ambiente Familiar</h5>
                        <p>Trabajamos en un ambiente colaborativo y de respeto mutuo.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.6s">
                    <div class="bg-white text-center rounded p-4">
                        <div class="mb-3">
                            <i class="fas fa-graduation-cap text-primary" style="font-size: 2.5rem;"></i>
                        </div>
                        <h5 class="mb-3">Capacitación Continua</h5>
                        <p>Ofrecemos programas de desarrollo profesional y capacitación.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.9s">
                    <div class="bg-white text-center rounded p-4">
                        <div class="mb-3">
                            <i class="fas fa-calendar-check text-primary" style="font-size: 2.5rem;"></i>
                        </div>
                        <h5 class="mb-3">Horarios Flexibles</h5>
                        <p>Promovemos el equilibrio entre vida personal y laboral.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="1.2s">
                    <div class="bg-white text-center rounded p-4">
                        <div class="mb-3">
                            <i class="fas fa-heart text-primary" style="font-size: 2.5rem;"></i>
                        </div>
                        <h5 class="mb-3">Propósito Significativo</h5>
                        <p>Contribuye a mejorar la salud y sonrisa de las personas.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-light py-5 wow fadeInUp" data-wow-delay="0.3s" style="margin-top: -75px;">
        <div class="container pt-5">
            <div class="row g-5 pt-4">
                <div class="col-lg-3 col-md-6">
                    <h3 class="text-white mb-4">Enlaces Rápidos</h3>
                    <div class="d-flex flex-column justify-content-start">
                        <a class="text-light mb-2" href="index.html"><i class="bi bi-arrow-right text-primary me-2"></i>Inicio</a>
                        <a class="text-light mb-2" href="about.html"><i class="bi bi-arrow-right text-primary me-2"></i>Nosotros</a>
                        <a class="text-light mb-2" href="service.html"><i class="bi bi-arrow-right text-primary me-2"></i>Servicios</a>
                        <a class="text-light mb-2" href="jobs.html"><i class="bi bi-arrow-right text-primary me-2"></i>Empleos</a>
                        <a class="text-light" href="appointment.html"><i class="bi bi-arrow-right text-primary me-2"></i>Citas</a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h3 class="text-white mb-4">Servicios Populares</h3>
                    <div class="d-flex flex-column justify-content-start">
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Limpieza Dental</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Blanqueamiento</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Implantes</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Ortodoncia</a>
                        <a class="text-light" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Endodoncia</a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h3 class="text-white mb-4">Contacto</h3>
                    <p class="mb-2"><i class="bi bi-geo-alt text-primary me-2"></i>Ramos Arizpe, Coahuila, México</p>
                    <p class="mb-2"><i class="bi bi-envelope-open text-primary me-2"></i>info@dentalag.com</p>
                    <p class="mb-0"><i class="bi bi-telephone text-primary me-2"></i>+52 844 130 7881</p>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h3 class="text-white mb-4">Síguenos</h3>
                    <div class="d-flex">
                        <a class="btn btn-lg btn-primary btn-lg-square rounded me-2" href="#"><i class="fab fa-twitter fw-normal"></i></a>
                        <a class="btn btn-lg btn-primary btn-lg-square rounded me-2" href="#"><i class="fab fa-facebook-f fw-normal"></i></a>
                        <a class="btn btn-lg btn-primary btn-lg-square rounded me-2" href="#"><i class="fab fa-linkedin-in fw-normal"></i></a>
                        <a class="btn btn-lg btn-primary btn-lg-square rounded" href="#"><i class="fab fa-instagram fw-normal"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid text-light py-4" style="background: #051225;">
        <div class="container">
            <div class="row g-0">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-md-0">&copy; <a class="text-white border-bottom" href="#">Clínica Dental AG-Ramos Arizpe</a>. Todos los Derechos Reservados.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-0">Diseñado con ❤️ para tu sonrisa</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded back-to-top"><i class="bi bi-arrow-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="lib/twentytwenty/jquery.event.move.js"></script>
    <script src="lib/twentytwenty/jquery.twentytwenty.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Jobs JavaScript -->
    <script>
        let jobsData = [];

        // Función para cargar empleos desde el servidor
        async function fetchJobs(department = 'all') {
            try {
                const url = department === 'all' ? 'jobs.php' : `jobs.php?department=${department}`;
                const response = await fetch(url);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error al cargar empleos:', error);
                return [];
            }
        }

        // Función para cargar empleos
        async function loadJobs(filter = 'all') {
            const container = document.getElementById('jobs-container');
            const noJobsMessage = document.getElementById('no-jobs');
            
            // Mostrar loading
            container.innerHTML = '<div class="col-12 text-center"><div class="spinner-border text-primary" role="status"></div></div>';
            
            jobsData = await fetchJobs(filter);
            
            if (jobsData.length === 0) {
                container.innerHTML = '';
                noJobsMessage.style.display = 'block';
                return;
            }
            
            noJobsMessage.style.display = 'none';
            
            container.innerHTML = jobsData.map(job => `
                <div class="col-lg-6 col-md-12 wow fadeInUp" data-wow-delay="0.3s">
                    <div class="job-item bg-white rounded shadow-sm p-4 h-100 border-start border-primary border-4">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h4 class="mb-1 text-primary">${job.title}</h4>
                                <p class="text-muted mb-0"><i class="fas fa-map-marker-alt me-1"></i>${job.location}</p>
                            </div>
                            <span class="badge bg-primary rounded-pill">${job.type}</span>
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-6">
                                <small class="text-muted fw-bold">Experiencia:</small>
                                <p class="mb-0">${job.experience}</p>
                            </div>
                            <div class="col-6">
                                <small class="text-muted fw-bold">Salario:</small>
                                <p class="mb-0 text-success fw-bold">${job.salary}</p>
                            </div>
                        </div>
                        
                        <p class="mb-3">${job.description}</p>
                        
                        <div class="mb-3">
                            <small class="text-muted fw-bold">Requisitos principales:</small>
                            <ul class="list-unstyled mt-2">
                                ${job.requirements.slice(0, 3).map(req => `<li class="mb-1"><i class="fas fa-check text-success me-2"></i><small>${req}</small></li>`).join('')}
                                ${job.requirements.length > 3 ? `<li class="text-primary"><small><i class="fas fa-plus me-2"></i>${job.requirements.length - 3} requisitos más...</small></li>` : ''}
                            </ul>
                        </div>
                        
                        ${job.benefits ? `
                        <div class="mb-3">
                            <small class="text-muted fw-bold">Beneficios:</small>
                            <div class="mt-1">
                                ${job.benefits.slice(0, 2).map(benefit => `<span class="badge bg-light text-dark me-1 mb-1">${benefit}</span>`).join('')}
                                ${job.benefits.length > 2 ? `<span class="badge bg-secondary">+${job.benefits.length - 2} más</span>` : ''}
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">Publicado: ${new Date(job.posted).toLocaleDateString('es-ES')}</small>
                            <button class="btn btn-primary" onclick="openApplicationModal(${job.id}, '${job.title}')">
                                <i class="fas fa-paper-plane me-1"></i>Postularse
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

            // Reinicializar animaciones WOW
            if (typeof WOW !== 'undefined') {
                new WOW().init();
            }
        }

        // Función para abrir modal de postulación
        function openApplicationModal(jobId, jobTitle) {
            const selectedJob = jobsData.find(job => job.id === jobId);
            
            document.getElementById('jobId').value = jobId;
            document.getElementById('jobTitle').value = jobTitle;
            document.getElementById('applicationModalLabel').textContent = `Postularse para: ${jobTitle}`;
            
            // Reset form
            document.getElementById('applicationForm').reset();
            document.getElementById('jobId').value = jobId;
            document.getElementById('jobTitle').value = jobTitle;
            
            const modal = new bootstrap.Modal(document.getElementById('applicationModal'));
            modal.show();
        }

        // Manejar filtros
        document.querySelectorAll('[data-filter]').forEach(button => {
            button.addEventListener('click', function() {
                // Actualizar botones activos
                document.querySelectorAll('[data-filter]').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Cargar empleos filtrados
                loadJobs(this.dataset.filter);
            });
        });

        // Manejar envío de postulación
        document.getElementById('submitApplication').addEventListener('click', async function() {
            const form = document.getElementById('applicationForm');
            const formData = new FormData(form);
            
            // Validar formulario
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            const applicationData = Object.fromEntries(formData);
            const selectedJob = jobsData.find(job => job.id == applicationData.jobId);
            
            // Deshabilitar botón mientras se procesa
            this.disabled = true;
            this.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Enviando...';
            
            try {
                // Enviar postulación al servidor
                const response = await fetch('jobs.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(applicationData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Crear mensaje para WhatsApp
                    const message = `🏥 *NUEVA POSTULACIÓN - CLÍNICA DENTAL AG*

*Puesto:* ${applicationData.jobTitle}
*ID Postulación:* ${result.application_id}

👤 *DATOS DEL CANDIDATO:*
*Nombre:* ${applicationData.applicantName}
*Email:* ${applicationData.applicantEmail}
*Teléfono:* ${applicationData.applicantPhone}
*Edad:* ${applicationData.applicantAge || 'No especificada'}
*Estudios:* ${applicationData.applicantEducation}

💼 *EXPERIENCIA LABORAL:*
${applicationData.applicantExperience || 'No especificada'}

💡 *MOTIVACIÓN:*
${applicationData.applicantMotivation}

📊 *DETALLES DEL PUESTO:*
*Tipo:* ${selectedJob?.type || 'No especificado'}
*Ubicación:* ${selectedJob?.location || 'Ramos Arizpe, Coahuila'}
*Experiencia requerida:* ${selectedJob?.experience || 'No especificada'}

⏰ *Fecha de postulación:* ${new Date().toLocaleDateString('es-ES')}

¡Favor de revisar esta postulación! 📋✨`;

                    // Enviar por WhatsApp
                    const whatsappUrl = `https://wa.me/5284413078811?text=${encodeURIComponent(message)}`;
                    window.open(whatsappUrl, '_blank');
                    
                    // Cerrar modal y mostrar mensaje
                    const modal = bootstrap.Modal.getInstance(document.getElementById('applicationModal'));
                    modal.hide();
                    
                    // Mostrar mensaje de éxito
                    const successAlert = document.createElement('div');
                    successAlert.className = 'alert alert-success alert-dismissible fade show position-fixed';
                    successAlert.style = 'top: 20px; right: 20px; z-index: 9999;';
                    successAlert.innerHTML = `
                        <i class="fas fa-check-circle me-2"></i>
                        ¡Postulación enviada exitosamente! Te contactaremos pronto.
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    `;
                    document.body.appendChild(successAlert);
                    
                    // Remover alerta después de 5 segundos
                    setTimeout(() => {
                        if (successAlert.parentNode) {
                            successAlert.parentNode.removeChild(successAlert);
                        }
                    }, 5000);
                    
                } else {
                    throw new Error(result.message || 'Error al enviar la postulación');
                }
                
            } catch (error) {
                console.error('Error:', error);
                alert('Hubo un error al enviar tu postulación. Por favor, intenta nuevamente o contacta directamente al número +52 844 130 7881.');
            } finally {
                // Rehabilitar botón
                this.disabled = false;
                this.innerHTML = '<i class="fas fa-paper-plane me-1"></i>Enviar Postulación';
            }
        });

        // Cargar empleos al iniciar
        document.addEventListener('DOMContentLoaded', function() {
            loadJobs();
        });
    </script>
</body>
</html>
